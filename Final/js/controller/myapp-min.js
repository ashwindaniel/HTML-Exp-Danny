var x=0;angular.module("DemoModule",["ngRoute"]).config(function($routeProvider){$routeProvider.when("/first",{templateUrl:"../../pages/first.html"}).when("/target",{templateUrl:"../../pages/target.html"}).when("/forms",{templateUrl:"../../pages/forms.html"}).when("/location",{templateUrl:"../../pages/location.html"}).when("/video",{templateUrl:"../../pages/video.html"}).when("/audio",{templateUrl:"../../pages/audio.html"}).otherwise({templateUrl:"../../pages/start.html"})}).directive("gmaps",function($timeout){return{restrict:"EA",template:'<div class="gmaps"></div>',replace:!0,scope:{center:"=center",zoom:"=zoom"},link:function(scope,iElement,iAttrs){var mapOptions={zoom:scope.zoom,center:new google.maps.LatLng(scope.center.lat,scope.center.lng),mapTypeId:google.maps.MapTypeId.ROADMAP},map=new google.maps.Map(iElement[0],mapOptions);scope.$watch("center",function(){map.setCenter(new google.maps.LatLng(parseFloat(scope.center.lat),parseFloat(scope.center.lng)))},!0),scope.$watch("zoom",function(){map.setZoom(parseInt(scope.zoom))}),google.maps.event.addListener(map,"center_changed",function(){$timeout(function(){var center=map.getCenter();scope.center.lat=center.lat(),scope.center.lng=center.lng()})}),google.maps.event.addListener(map,"zoom_changed",function(){$timeout(function(){scope.zoom=map.getZoom()})})}}}).controller("DemoCtrl",function($scope){$scope.message="Target scope"}).controller("LocationCtrl",function($scope){function storeLocation(position){$scope.latitude=position.coords.latitude,$scope.longitude=position.coords.longitude,$scope.dataloaded=!0,map=new google.maps.Map(document.getElementById("map"),{center:{lat:$scope.latitude,lng:$scope.longitude},zoom:15})}$scope.latitude=0,$scope.longitude=0,$scope.dataloaded=!1;var map;$scope.runLocation=function(){navigator.geolocation?($scope.position=navigator.geolocation.getCurrentPosition(storeLocation),document.getElementById("map")):alert("Your browser doesn't supports it!")}});